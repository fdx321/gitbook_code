# 原子类

```java
private static final long valueOffset;
static { 
  try {  
    valueOffset = unsafe.objectFieldOffset(AtomicInteger.class.getDeclaredField("value"));
  } catch (Exception ex) { 
     throw new Error(ex); 
  }
}
private volatile int value;

```

基本都雷同，都是利用Unsafe的objectFieldOffset方法获取value在内存中位置，然后利用Unsafe的compareAndSwap方法进行原子的update

